{% extends "blog/base.html" %} 
{% block title %}Dashboard{% endblock %} 
{% block content %}
<div class="max-w-4xl mx-auto space-y-8">
  <div class="flex justify-between items-center">
    <h2 class="text-3xl font-bold mb-6">My Dashboard</h2>
    <a
      href="{% url 'blog:profile_edit' %}"
      class="px-4 py-2 bg-indigo-600 rounded hover:bg-indigo-700 transition"
    >
      Edit Profile
    </a>
  </div>
  <div class="flex flex-wrap gap-6 mb-8">
    <div class="flex-1 bg-white p-6 rounded shadow text-center">
      <h3 class="text-xl font-semibold mb-2">Total Posts</h3>
      <p class="text-4xl font-extrabold text-indigo-600">{{ total_posts }}</p>
    </div>
    <div class="flex-1 bg-white p-6 rounded shadow text-center">
      <h3 class="text-xl font-semibold mb-2">Total Views</h3>
      <p class="text-4xl font-extrabold text-indigo-600">{{ total_views }}</p>
    </div>
    <div class="flex-1 bg-white p-6 rounded shadow text-center">
      <h3 class="text-xl font-semibold mb-2">Comments</h3>
      <p class="text-4xl font-extrabold text-indigo-600">{{ total_comments }}</p>
    </div>
    <div class="flex-1 bg-white p-6 rounded shadow text-center">
      <h3 class="text-xl font-semibold mb-2">Followers</h3>
      <p class="text-4xl font-extrabold text-indigo-600">
        {{ total_followers }}
      </p>
    </div>
  </div>

  <div class="flex justify-between items-center mb-4">
    <h3 class="text-2xl font-semibold">My Posts</h3>
    <a
      href="{% url 'blog:post_create' %}"
      class="inline-block px-4 py-2 bg-indigo-600 rounded hover:bg-indigo-700 transition"
    >
      + New Post
    </a>
  </div>

  <ul class="divide-y divide-gray-200 bg-white rounded shadow">
    {% for post in posts %}
    <li
      class="p-4 flex justify-between items-center hover:bg-gray-50 transition"
    >
      <a
        href="{{ post.get_absolute_url }}"
        class="font-semibold text-indigo-700 hover:underline"
      >
        {{ post.title }}
      </a>
      <div class="flex items-center gap-4">
        <span class="text-sm text-gray-500"
          >{{ post.created_at|date:"M d, Y" }}</span
        >

        <!-- Edit button -->
        <a
          href="{% url 'blog:post_edit' slug=post.slug %}"
          class="text-sm px-3 py-1 rounded bg-yellow-300 hover:bg-yellow-400 text-yellow-900 transition"
        >
          Edit
        </a>

        <!-- Delete button -->
        <a
          href="{% url 'blog:post_delete' slug=post.slug %}"
          class="text-sm px-3 py-1 rounded bg-red-500 hover:bg-red-600 transition"
          onclick="return confirm('Are you sure you want to delete this post?');"
        >
          Delete
        </a>
      </div>
    </li>
    {% empty %}
    <li class="p-4 text-gray-500 text-center">
      You have not created any posts yet.
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
